

  # Check if the file exists
  if [[ -f "$CONFIG_FILE" ]]; then
    # Replace '/ip4/127.0.0.1/tcp/8337' with '""'
    sed -i 's|/ip4/127.0.0.1/tcp/8337|""|g' "$CONFIG_FILE"

    # Replace '.config/store' with '/root/ceremonyclient/node/<number>/store', where <number> is the current value of i
    sed -i "s|.config/store|/root/ceremonyclient/node/$i/.config/store|g" "$CONFIG_FILE"

    echo "Replacement complete in $CONFIG_FILE."
  else
    echo "Configuration file not found at $CONFIG_FILE"
  fi
done
#!/bin/bash

# Loop through numbers 1 to 200
for i in {1..402}; do
  # Define the path to the configuration file for the current number
  CONFIG_PATH="$HOME/ceremonyclient/node/$i/.config"
  CONFIG_FILE="/root/ceremonyclient/node/$i/.config/config.yml"
  if [[ -f "$CONFIG_FILE" ]]; then
    # Replace '/ip4/127.0.0.1/tcp/8337' with '""'
    sed -i 's|/ip4/127.0.0.1/tcp/8337|""|g' "$CONFIG_FILE"

    # Replace '.config/store' with '/root/ceremonyclient/node/<number>/store', where <number> is the current value of i
    sed -i "s|.config/store|/root/ceremonyclient/node/$i/.config/store|g" "$CONFIG_FILE"

    echo "Replacement complete in $CONFIG_FILE."
    if [[ -d "$CONFIG_PATH" ]]; then
    # Run the token mint all command with the current config file and wait for it to complete
    echo "Running mint command for config $i..."
    ./qclient-2.0.2.3-linux-amd64 token mint all --config "$CONFIG_PATH"

    # Wait for the command to complete before moving to the next
    wait
  else
    echo "Configuration file not found at $CONFIG_PATH, skipping."
  fi
  else
    echo "Configuration file not found at $CONFIG_FILE"
  fi  
  # Check if the config file exists
done
